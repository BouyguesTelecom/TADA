meta {
  name: 7 - UPDATE FILES
  type: http
  seq: 7
}

patch {
  url: {{URL_API}}{{URL_API_PREFIX}}/catalog
  body: json
  auth: bearer
}

auth:bearer {
  token: {{AUTH_TOKEN}}
}

body:json {
  [{
    "namespace": "DEV",
    "uuid": "{{PDF_ID}}",
    "information": "Updates files with new information and files and files"
  },
  {
    "namespace": "DEV",
    "uuid": "{{SVG_ID}}",
    "information": "Updates files with new information and files and files"
  },
  {
    "namespace": "DEV",
    "uuid": "{{PNG_ID}}",
    "information": "Updates files with new information and files and files"
  },
  {
    "namespace": "DEV",
    "uuid": "{{JPG_ID}}",
    "information": "Updates files with new information and files and files"
    },
  {
    "namespace": "DEV",
    "uuid": "{{WEBP_ID}}",
    "information": "Updates files with new information and files and files"
  }]
}

body:multipart-form {
  namespace: DEV
  uuids: {{PDF_ID}},{{SVG_ID}},{{PNG_ID}},{{WEBP_ID}},
  information: Updates files with new information and files
}

vars:post-response {
  PDF_ID: res.body.data[0].uuid
  SVG_ID: res.body.data[1].uuid
  PNG_ID: res.body.data[2].uuid
  JPG_ID: res.body.data[3].uuid
  WEBP_ID: res.body.data[4].uuid
}

assert {
  res.status: eq 200
  res.body.data[0].information: eq "Updates files with new information and files and files"
  res.body.data[1].information: eq "Updates files with new information and files and files"
  res.body.data[2].information: eq "Updates files with new information and files and files"
  res.body.data[3].information: eq "Updates files with new information and files and files"
  res.body.data[4].information: eq "Updates files with new information and files and files"
}
